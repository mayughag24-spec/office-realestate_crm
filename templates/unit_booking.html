<!DOCTYPE html>
<html>
<head>
    <title>Unit Booking</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<!-- TOP HEADER -->
<div class="header">
    <img src="{{ url_for('static', filename='images/unique.png') }}" class="logo left">
    <div class="header-title">Unit Booking</div>
    <img src="{{ url_for('static', filename='images/prestigia.png') }}" class="logo right">
</div>

<div class="container">

    <!-- SIDEBAR TREE -->
    <div class="sidebar">
        <ul class="tree">
            <li><a href="/dashboard">Dashboard</a></li>
            <li class="node">
                <span class="toggle">Sales</span>
                <ul>
                    <li class="node">
                        <span class="toggle">Booking</span>
                        <ul>
                            <li><a href="#" class="active">Unit Booking</a></li>
                            <li><a href="#">Booked Unit List</a></li>
                        </ul>
                    </li>
                </ul>
            </li>
            <li class="node">
                <span class="toggle">Post Sales</span>
                <ul>
                    <li class="node">
                        <span class="toggle">Recovery</span>
                        <ul>
                            <li><a href="#">Collection List</a></li>
                            <li><a href="#">Update Customer Info</a></li>
                            <li><a href="#">Agreement Details</a></li>
                            <li><a href="/payments">Payments</a></li>
                        </ul>
                    </li>
                </ul>
            </li>
        </ul>
    </div>

    <!-- MAIN CONTENT -->
    <div class="content">
        <h2>Unit Booking Form</h2>

        <form id="bookingForm">

            <!-- Project & Unit Info -->
            <fieldset>
                <legend>Project & Unit Details</legend>
                <div class="form-row">
                    <label for="project">Project Name:</label>
                    <input type="text" id="project" name="project">
                </div>
                <div class="form-row">
                    <label for="unit">Unit No:</label>
                    <input type="text" id="unit" name="unit">
                </div>
                <div class="form-row">
                    <label for="price">Price:</label>
                    <input type="number" id="price" name="price">
                </div>
            </fieldset>

            <!-- Applicant Tabs -->
            <div class="tab-buttons">
                <button type="button" class="active" data-tab="applicant1">Applicant 1</button>
                <button type="button" data-tab="applicant2">Applicant 2</button>
            </div>

            <!-- Applicant 1 -->
            <fieldset id="applicant1" class="applicant-tab active">
                <legend>Applicant 1 Details</legend>
                <div class="form-row">
                    <label for="name1">Name:</label>
                    <input type="text" id="name1" name="name1">
                </div>
                <div class="form-row">
                    <label for="email1">Email:</label>
                    <input type="email" id="email1" name="email1">
                </div>
                <div class="form-row">
                    <label for="phone1">Phone:</label>
                    <input type="text" id="phone1" name="phone1">
                </div>
            </fieldset>

            <!-- Applicant 2 -->
            <fieldset id="applicant2" class="applicant-tab">
                <legend>Applicant 2 Details</legend>
                <div class="form-row">
                    <label for="name2">Name:</label>
                    <input type="text" id="name2" name="name2">
                </div>
                <div class="form-row">
                    <label for="email2">Email:</label>
                    <input type="email" id="email2" name="email2">
                </div>
                <div class="form-row">
                    <label for="phone2">Phone:</label>
                    <input type="text" id="phone2" name="phone2">
                </div>
            </fieldset>

            <!-- Action Buttons -->
            <div class="button-row">
                <button type="submit" class="save-btn">Save</button>
                <button type="button" class="close-btn">Close</button>
            </div>

        </form>
    </div>

</div>

<script>
    // TREE TOGGLE
    document.querySelectorAll(".toggle").forEach(function(toggle){
        toggle.addEventListener("click", function(){
            this.parentElement.classList.toggle("open");
        });
    });

    // TAB SWITCH
    const tabs = document.querySelectorAll(".tab-buttons button");
    const applicantTabs = document.querySelectorAll(".applicant-tab");

    tabs.forEach(tab => {
        tab.addEventListener("click", function(){
            // Remove active class from all buttons
            tabs.forEach(b => b.classList.remove("active"));
            this.classList.add("active");

            // Show the selected tab
            const target = this.getAttribute("data-tab");
            applicantTabs.forEach(a => {
                if(a.id === target) a.classList.add("active");
                else a.classList.remove("active");
            });
        });
    });
</script>

</body>
</html>
